# ğŸš€ å‘å¸ƒæ–°ç‰ˆæœ¬å¿«é€ŸæŒ‡å—

## å‰ç½®å‡†å¤‡ï¼ˆä»…é¦–æ¬¡ï¼‰

### 1. ç”Ÿæˆç­¾åå¯†é’¥

```bash
# å®‰è£… Tauri CLI
cargo install tauri-cli --version "^2.0.0"

# ç”Ÿæˆå¯†é’¥å¯¹
tauri signer generate -w ~/.tauri/wc3-ui-designer.key
```

ä¼šè¾“å‡ºç±»ä¼¼ï¼š
```
Your keypair was generated successfully
Private: ~/.tauri/wc3-ui-designer.key (Keep this secret!)
Public: dW50cnVzdGVkIGNvbW1lbnQ6IG1pbmlzaWduIHB1YmxpYyBrZXk6IEFCQ0RFRkdISUo=
```

### 2. é…ç½®å¯†é’¥

1. **å…¬é’¥**: å¤åˆ¶åˆ° `src-tauri/tauri.conf.json`
```json
{
  "plugins": {
    "updater": {
      "pubkey": "ä½ çš„å…¬é’¥å†…å®¹"
    }
  }
}
```

2. **ç§é’¥**: æ·»åŠ åˆ° GitHub Secrets
   - è¿›å…¥ä»“åº“ Settings â†’ Secrets and variables â†’ Actions
   - æ–°å»º Secret:
     - Name: `TAURI_PRIVATE_KEY`
     - Value: å¤åˆ¶ `~/.tauri/wc3-ui-designer.key` æ–‡ä»¶çš„å…¨éƒ¨å†…å®¹
   - å¦‚æœå¯†é’¥æœ‰å¯†ç ï¼Œå†æ·»åŠ :
     - Name: `TAURI_KEY_PASSWORD`
     - Value: å¯†é’¥å¯†ç 

---

## ğŸ“¦ å‘å¸ƒæµç¨‹

### æ–¹æ³•ä¸€ï¼šè‡ªåŠ¨å‘å¸ƒï¼ˆæ¨èï¼‰

1. **æ›´æ–°ç‰ˆæœ¬å·**
```bash
# ä¸€é”®æ›´æ–°æ‰€æœ‰æ–‡ä»¶çš„ç‰ˆæœ¬å·
# åœ¨ package.json, src-tauri/Cargo.toml, src-tauri/tauri.conf.json
```

ç¼–è¾‘è¿™ä¸‰ä¸ªæ–‡ä»¶ï¼Œå°†ç‰ˆæœ¬å·æ”¹ä¸ºæ–°ç‰ˆæœ¬ï¼Œä¾‹å¦‚ `0.2.0`

2. **æäº¤æ›´æ”¹**
```bash
git add .
git commit -m "chore: bump version to 0.2.0"
git push
```

3. **åˆ›å»ºæ ‡ç­¾å¹¶æ¨é€**
```bash
git tag v0.2.0
git push origin v0.2.0
```

4. **è‡ªåŠ¨æ„å»ºå’Œå‘å¸ƒ**
   - GitHub Actions ä¼šè‡ªåŠ¨è¿è¡Œ
   - æ„å»ºæ‰€æœ‰å¹³å°çš„å®‰è£…åŒ…
   - è‡ªåŠ¨ç­¾å
   - åˆ›å»º GitHub Release
   - ä¸Šä¼ æ‰€æœ‰æ–‡ä»¶

5. **æ£€æŸ¥ Release**
   - è®¿é—® https://github.com/dulingzhi/UI-Designer/releases
   - ç¡®è®¤æ–‡ä»¶å·²ä¸Šä¼ ï¼š
     - Windows: `*.exe`
     - ç­¾åæ–‡ä»¶: `*.sig`
     - æ›´æ–°é…ç½®: `latest.json`ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰

---

### æ–¹æ³•äºŒï¼šæ‰‹åŠ¨å‘å¸ƒ

å¦‚æœéœ€è¦æ‰‹åŠ¨æ§åˆ¶æµç¨‹ï¼š

1. **æœ¬åœ°æ„å»º**
```bash
bun tauri build
```

2. **æ‰‹åŠ¨ç­¾å**
```bash
tauri signer sign \
  -k ~/.tauri/wc3-ui-designer.key \
  -f src-tauri/target/release/bundle/nsis/*.nsis.zip
```

3. **æ‰‹åŠ¨åˆ›å»º Release**
   - åœ¨ GitHub ä¸Šåˆ›å»ºæ–° Release
   - æ ‡ç­¾: `v0.2.0`
   - ä¸Šä¼ æ‰€æœ‰æ–‡ä»¶ï¼ˆåŒ…æ‹¬ .sig æ–‡ä»¶ï¼‰

---

## âœ… éªŒè¯æ›´æ–°

1. **å®‰è£…æ—§ç‰ˆæœ¬**
   - è¿è¡Œä¹‹å‰çš„ç‰ˆæœ¬

2. **è§¦å‘æ›´æ–°æ£€æŸ¥**
   - ç­‰å¾… 3 ç§’è‡ªåŠ¨æ£€æŸ¥
   - æˆ–ç‚¹å‡»èœå•ï¼šå¸®åŠ© â†’ æ£€æŸ¥æ›´æ–°

3. **ç¡®è®¤æ›´æ–°æµç¨‹**
   - åº”è¯¥æ˜¾ç¤ºæ–°ç‰ˆæœ¬æç¤º
   - ä¸‹è½½è¿›åº¦æ­£å¸¸
   - å®‰è£…æˆåŠŸå¹¶é‡å¯

---

## ğŸ” å¸¸è§é—®é¢˜

### Q: Actions æ„å»ºå¤±è´¥
A: æ£€æŸ¥ï¼š
- ç‰ˆæœ¬å·æ˜¯å¦ä¸€è‡´
- Secrets æ˜¯å¦æ­£ç¡®é…ç½®
- Rust ä¾èµ–æ˜¯å¦å®Œæ•´

### Q: æ›´æ–°æ£€æŸ¥å¤±è´¥
A: æ£€æŸ¥ï¼š
- `latest.json` æ˜¯å¦åœ¨ Release ä¸­
- URL æ˜¯å¦æ­£ç¡®
- å…¬é’¥æ˜¯å¦åŒ¹é…

### Q: ç­¾åéªŒè¯å¤±è´¥
A: ç¡®ä¿ï¼š
- ä½¿ç”¨ç›¸åŒçš„å¯†é’¥å¯¹
- .sig æ–‡ä»¶å®Œæ•´
- å…¬é’¥é…ç½®æ­£ç¡®

---

## ğŸ“‹ ç‰ˆæœ¬å·è§„èŒƒ

ä½¿ç”¨è¯­ä¹‰åŒ–ç‰ˆæœ¬ï¼ˆSemVerï¼‰ï¼š

- **ä¸»ç‰ˆæœ¬å· (major)**: ä¸å…¼å®¹çš„ API ä¿®æ”¹
  - `1.0.0` â†’ `2.0.0`
  
- **æ¬¡ç‰ˆæœ¬å· (minor)**: å‘ä¸‹å…¼å®¹çš„åŠŸèƒ½æ€§æ–°å¢
  - `1.0.0` â†’ `1.1.0`
  
- **ä¿®è®¢å· (patch)**: å‘ä¸‹å…¼å®¹çš„é—®é¢˜ä¿®æ­£
  - `1.0.0` â†’ `1.0.1`

ç¤ºä¾‹ï¼š
- `0.1.0` â†’ `0.2.0` ï¼ˆæ–°åŠŸèƒ½ï¼‰
- `0.2.0` â†’ `0.2.1` ï¼ˆBug ä¿®å¤ï¼‰
- `0.9.9` â†’ `1.0.0` ï¼ˆæ­£å¼ç‰ˆï¼‰

---

## ğŸ¯ å‘å¸ƒæ£€æŸ¥æ¸…å•

å‘å¸ƒå‰ç¡®è®¤ï¼š

- [ ] ç‰ˆæœ¬å·å·²æ›´æ–°ï¼ˆ3ä¸ªæ–‡ä»¶ï¼‰
- [ ] æ›´æ–°æ—¥å¿—å·²ç¼–å†™
- [ ] æœ¬åœ°æµ‹è¯•é€šè¿‡
- [ ] æ‰€æœ‰åŠŸèƒ½æ­£å¸¸
- [ ] æ–‡æ¡£å·²æ›´æ–°
- [ ] GitHub Secrets å·²é…ç½®
- [ ] Git æ ‡ç­¾å·²æ¨é€

å‘å¸ƒåç¡®è®¤ï¼š

- [ ] GitHub Actions æ„å»ºæˆåŠŸ
- [ ] Release é¡µé¢æ–‡ä»¶å®Œæ•´
- [ ] å®‰è£…åŒ…å¯ä»¥æ­£å¸¸å®‰è£…
- [ ] è‡ªåŠ¨æ›´æ–°åŠŸèƒ½æ­£å¸¸
- [ ] ç­¾åéªŒè¯é€šè¿‡

---

**ç°åœ¨å¯ä»¥å¼€å§‹å‘å¸ƒäº†ï¼** ğŸ‰

å¿«é€Ÿå‘½ä»¤ï¼š
```bash
# 1. æ›´æ–°ç‰ˆæœ¬å·ï¼ˆæ‰‹åŠ¨ç¼–è¾‘ 3 ä¸ªæ–‡ä»¶ï¼‰
# 2. æäº¤å¹¶æ‰“æ ‡ç­¾
git add .
git commit -m "chore: bump version to 0.2.0"
git tag v0.2.0
git push && git push --tags
# 3. ç­‰å¾… Actions å®Œæˆï¼
```
